/*
const $ = new Env("申工社");
变量名sgs多号@隔开
*/
const axios=require('axios');const tokens=process['env']['sgs']['split']('@');function sleep(a){return new Promise(b=>setTimeout(b,a));}async function sign(d){const e={};e['qfrUq']='https://fwdt.shengongshe.org/sgsWchartApi/api/My/sign';e['jYVUC']='Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2015_6_1\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148\x20MicroMessenger/8.0.42(0x18002a2f)\x20NetType/WIFI\x20Language/zh_CN';e['sWnwf']='zh-CN,zh-Hans;q=0.9';e['JEBBd']='签到结果:';e['VPtXs']='签到失败:';const f=e;const g=f['qfrUq'];const h={};h['User-Agent']=f['jYVUC'];h['Accept-Language']=f['sWnwf'];h['Accept-Encoding']='gzip,\x20deflate,\x20br';h['Token']=d;const i=h;try{const j={};j['headers']=i;const k=await axios['get'](g,j);const l=k['data'];const m=l['msg'];console['log'](f['JEBBd'],m);}catch(n){console['error'](f['VPtXs'],n['message']);}}async function getMediaIds(d){const e={'Rvdom':'https://fwdt.shengongshe.org/sgsWchartApi/api/ImageText/list','JgKnn':'Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2015_6_1\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148\x20MicroMessenger/8.0.42(0x18002a2f)\x20NetType/WIFI\x20Language/zh_CN','VrCai':'zh-CN,zh-Hans;q=0.9','oJFNT':'开始执行阅读任务','TUXNQ':function(k,l,m){return k(l,m);},'WDHSB':function(k,l){return k(l);},'PNTmt':'获取媒体ID失败:'};const f=e['Rvdom'];const g={};g['User-Agent']=e['JgKnn'];g['Accept-Language']=e['VrCai'];g['Accept-Encoding']='gzip,\x20deflate,\x20br';g['Token']=d;const h=g;const i={};i['page']=0x1;const j=i;try{const k={};k['headers']=h;k['params']=j;const l=await axios['post'](f,null,k);const m=l['data']['data'];const n=m['news'];const o=n['map'](q=>q['media_id']);o['sort'](()=>0x3a6*0x7+0xa5f+-0x23e9*0x1+0.5-Math['random']());const p=o['slice'](0x2392+-0x218d+-0x1*0x205,0x119*-0x5+-0x279+-0x7f9*-0x1);console['log'](e['oJFNT']);for(const q of p){await e['TUXNQ'](executeUrl,d,q);await e['WDHSB'](sleep,0xc2c*-0x1+0x23c2+0x13ae*-0x1);}}catch(r){console['error'](e['PNTmt'],r['message']);}}async function executeUrl(e,f){const g={};g['qIAPt']='https://fwdt.shengongshe.org/sgsWchartApi/api/ImageText/read';g['XeBvZ']='https://fwdt.shengongshe.org';g['gYnhg']='执行URL失败:';const h=g;const i=h['qIAPt'];const j={};j['Accept-Language']='zh-CN,zh-Hans;q=0.9';j['Origin']=h['XeBvZ'];j['User-Agent']='Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2015_6_1\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148\x20MicroMessenger/8.0.42(0x18002a2f)\x20NetType/WIFI\x20Language/zh_CN';j['Token']=e;const k=j;const l={};l['media_id']=f;const m=l;try{const n={};n['headers']=k;const o=await axios['post'](i,m,n);const p=o['data']['msg'];console['log']('运行结果：'+p);}catch(q){console['error'](h['gYnhg'],q['message']);}}((async()=>{const a={'kbYlM':function(b,c){return b(c);},'ZpRrz':'===================================='};console['log']('======开始执行所有签到和阅读任务======');for(const b of tokens){await a['kbYlM'](sign,b);await a['kbYlM'](getMediaIds,b);console['log'](a['ZpRrz']);}})());